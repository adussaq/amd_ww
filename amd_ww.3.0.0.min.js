!function(n){"use strict";var e,r,t;t={},t.start=function(n){return e(n)},e=function(n){n=n||void 0;try{if(!n)throw"Must define start_obj with at least the workers file.";if(n.num_workers=n.num_workers||4,n.num_workers*=1,!window.Worker)throw"Workers are not available in this browser.";if(isNaN(n.num_workers)||"number"!=typeof n.num_workers)throw"num_workers must be an integer";if("string"!=typeof n.filename||!n.filename.match(/\.js$/))throw"Must pass in a filename as a string for worker functionality"}catch(n){return void console.error(n)}return r(n)},r=function(n){var e,r,t,o,i,u,f,s,a;return e=[],r=Object.create(Promise),u=[],r.submit=function(n){return i(n)},r.clear=function(){a=function(){u.map(function(n){n[0].terminate()}),delete r.submit,delete r.clear}},a=function(){},o=function(n){var r,t,i,f,s,c,m=!0;if(c=u[n][0],u[n][1]=!0,!(e.length>0)){for(u[n][1]=!1,r=0;r<u.length;r+=1)u[r][1]&&(m=!1);return void(m&&a())}f=e.shift(),s=f[0],t=f[1],i=f[2],c(s).then(function(n){t(n)},function(n){i(n)}).then(function(){o(n)})},i=function(n){return t(e,n)},f=function(){var n;for(n=0;n<u.length;n+=1)if(!u[n][1]){o(n);break}},t=function(n,e){return new Promise(function(r,t){n.push([e,r,t]),f()})},s=function(n){var e,r;return e=new Worker(n),r=function(n){return new Promise(function(r,t){e.onmessage=function(n){r(n.data)},e.onerror=function(n){t("ERROR: Line "+n.lineno+" in "+n.filename+": "+n.message)},"object"==typeof n?e.postMessage(JSON.parse(JSON.stringify(n))):e.postMessage(n)})},r.terminate=function(){e.terminate()},r},function(){var e;for(e=0;e<n.num_workers;e+=1)u[e]=[s(n.filename),!1]}(),r},n.amd_ww=t}(window);